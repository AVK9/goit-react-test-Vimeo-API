{"version":3,"file":"static/js/134.30ed3f9a.chunk.js","mappings":"kOAoEA,UA7De,WACb,IAAAA,GAAwCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7CI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GACpCI,GAAeL,EAAAA,EAAAA,UAAS,GAAjBM,GAAmBJ,EAAAA,EAAAA,GAAAG,EAAA,GAAf,GACXE,GAAkCP,EAAAA,EAAAA,WAAS,GAAMQ,GAAAN,EAAAA,EAAAA,GAAAK,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAA0BX,EAAAA,EAAAA,UAAS,MAAKY,GAAAV,EAAAA,EAAAA,GAAAS,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAiCf,EAAAA,EAAAA,GAAAa,EAAA,GAArB,GAEbG,GAAeC,EAAAA,EAAAA,aAAW,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAC9B,SAAAC,EAAMC,GAAK,IAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY,OAFZF,EAAAC,KAAA,EAEPjB,GAAa,GAAMgB,EAAAE,KAAA,GACAC,EAAAA,EAAAA,IAAaL,EAAOlB,GAAM,KAAD,EAAtCmB,EAAIC,EAAAI,KACV1B,EAAgBqB,EAAKM,SAASL,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAE9BZ,EAASY,EAAAM,GAAMC,SAAS,QAEJ,OAFIP,EAAAC,KAAA,GAExBjB,GAAa,GAAOgB,EAAAQ,OAAA,6BAAAR,EAAAS,OAAA,GAAAZ,EAAA,wBAEvB,gBAAAa,GAAA,OAAAhB,EAAAiB,MAAA,KAAAC,UAAA,EAX6B,GAY9B,CAAChC,IAaH,OANAiC,EAAAA,EAAAA,YAAU,WACR,IAAMf,EAAQP,EAAauB,IAAI,UAC/BhB,GAASN,EAAaM,EACxB,GAAG,CAACN,EAAcD,KAIhBwB,EAAAA,EAAAA,MAACC,EAAAA,GAAS,CAAAC,SAAA,EACRC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,KACXJ,EAAAA,EAAAA,MAACK,EAAAA,SAAQ,CAACC,UAAUH,EAAAA,EAAAA,KAACI,EAAAA,GAAM,IAAIL,SAAA,EAC7BF,EAAAA,EAAAA,MAACQ,EAAAA,GAAI,CAAAN,SAAA,CACF9B,IAAS+B,EAAAA,EAAAA,KAAA,MAAAD,SAAK9B,IACdJ,IAAamC,EAAAA,EAAAA,KAACI,EAAAA,GAAM,KACnBvC,GACwB,IAAxBN,EAAa+C,QACb/C,EAAagD,KACX,SAAAC,GAAA,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAIH,EAAJG,KAAMC,EAAWJ,EAAXI,YAAaC,EAAaL,EAAbK,cAAa,OAC5Cb,EAAAA,EAAAA,KAACc,EAAAA,GAAS,CAERJ,MAAOA,EACPC,KAAMA,EACNF,GAAIA,EACJG,YAAaA,EACbC,cAAeA,GALVJ,EAML,QAKVT,EAAAA,EAAAA,KAACe,EAAAA,GAAM,SAIf,C","sources":["pages/Movies.jsx"],"sourcesContent":["import { Container, Grid, Loader, Trendings } from 'components';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport { Suspense, useCallback, useEffect, useState } from 'react';\nimport { Outlet, useSearchParams } from 'react-router-dom';\n// import { useSearchParams } from 'react-router-dom';\nimport { searchMovies } from 'service/service';\n\nconst Movies = () => {\n  const [moviesSearch, setMoviesSearch] = useState('');\n  const [page] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams] = useSearchParams();\n\n  const getFindMovie = useCallback(\n    async query => {\n      try {\n        setIsLoading(true);\n        const data = await searchMovies(query, page);\n        setMoviesSearch(data.results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    },\n    [page]\n  );\n\n  // const submit = query => {\n  //   getFindMovie(query);\n  // };\n\n  useEffect(() => {\n    const query = searchParams.get('search');\n    query && getFindMovie(query);\n  }, [getFindMovie, searchParams]);\n\n  // console.log(moviesSearch);\n  return (\n    <Container>\n      <SearchForm />\n      <Suspense fallback={<Loader />}>\n        <Grid>\n          {error && <h2>{error}</h2>}\n          {isLoading && <Loader />}\n          {!isLoading &&\n            moviesSearch.length !== 0 &&\n            moviesSearch.map(\n              ({ id, title, name, poster_path, backdrop_path }) => (\n                <Trendings\n                  key={id}\n                  title={title}\n                  name={name}\n                  id={id}\n                  poster_path={poster_path}\n                  backdrop_path={backdrop_path}\n                />\n              )\n            )}\n        </Grid>\n\n        <Outlet />\n      </Suspense>\n    </Container>\n  );\n};\n\nexport default Movies;\n"],"names":["_useState","useState","_useState2","_slicedToArray","moviesSearch","setMoviesSearch","_useState3","page","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","error","setError","_useSearchParams","useSearchParams","searchParams","getFindMovie","useCallback","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","query","data","_context","prev","next","searchMovies","sent","results","t0","message","finish","stop","_x","apply","arguments","useEffect","get","_jsxs","Container","children","_jsx","SearchForm","Suspense","fallback","Loader","Grid","length","map","_ref2","id","title","name","poster_path","backdrop_path","Trendings","Outlet"],"sourceRoot":""}